webpackJsonp([16],{157:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(94);n.default={name:"add-address",components:{},data:function(){return{address:null,tel:null,name:null}},methods:{addAddress:function(){var e=this;if(this.name){var n=[];n.name=this.name,n.tel=this.tel,n.address=this.address,r.a.addAddress(n).then(function(n){e.$router.push({name:"address"})})}}},mounted:function(){console.debug("App 加载：rev.%s %s",this.rev,(new Date).toLocaleTimeString())}}},170:function(e,n,t){n=e.exports=t(51)(),n.push([e.i,".container{width:100%;height:100%;font-size:10px;background-color:#f4f4f4;float:left}form{width:100%;padding:10px 0;display:block}input{width:100%;border:none;height:45px;margin-bottom:1px;border-bottom:1px solid #ccc;padding:0 10px;box-sizing:border-box;font-size:.7rem}.address-add{position:fixed;bottom:5%;left:5%;width:90%;height:40px;background:#189be5;text-align:center;line-height:40px;border-radius:5px;color:#fff}.setdefault{width:100%;height:45px;background:#fff;line-height:45px;text-indent:10px}","",{version:3,sources:["/Users/yun/ergou/src/views/manor/add-address.vue"],names:[],mappings:"AACA,WACE,WAAY,AACZ,YAAa,AACb,eAAgB,AAChB,yBAA0B,AAC1B,UAAY,CACb,AACD,KACE,WAAY,AACZ,eAAgB,AAChB,aAAe,CAChB,AACD,MACE,WAAY,AACZ,YAAa,AACb,YAAa,AACb,kBAAmB,AACnB,6BAA6B,AAC7B,eAAgB,AAChB,sBAAuB,AACvB,eAAiB,CAClB,AACD,aACE,eAAgB,AAChB,UAAW,AACX,QAAS,AACT,UAAW,AACX,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,iBAAkB,AAClB,kBAAmB,AACnB,UAAY,CACb,AACD,YACE,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,iBAAkB,AAClB,gBAAkB,CACnB",file:"add-address.vue",sourcesContent:["\n.container {\n  width: 100%;\n  height: 100%;\n  font-size: 10px;\n  background-color: #f4f4f4;\n  float: left;\n}\nform{\n  width: 100%;\n  padding: 10px 0;\n  display: block;\n}\ninput{\n  width: 100%;\n  border: none;\n  height: 45px;\n  margin-bottom: 1px;\n  border-bottom:1px solid #ccc;\n  padding: 0 10px;\n  box-sizing: border-box;\n  font-size: .7rem;\n}\n.address-add{\n  position: fixed;\n  bottom: 5%;\n  left: 5%;\n  width: 90%;\n  height: 40px;\n  background: #189be5;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 5px;\n  color: #fff;\n}\n.setdefault{\n  width: 100%;\n  height: 45px;\n  background: #fff;\n  line-height: 45px;\n  text-indent: 10px;\n}\n"],sourceRoot:""}])},192:function(e,n,t){var r=t(170);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t(52)("591483f0",r,!0)},219:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("form",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"收货人姓名",required:"请填写收货人姓名"},domProps:{value:e.name},on:{input:function(n){n.target.composing||(e.name=n.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],attrs:{type:"number",placeholder:"电话号码",required:"请填写收货人姓名"},domProps:{value:e.tel},on:{input:function(n){n.target.composing||(e.tel=n.target.value)},blur:function(n){e.$forceUpdate()}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text",placeholder:"详细地址",required:"请填写收货人姓名"},domProps:{value:e.address},on:{input:function(n){n.target.composing||(e.address=n.target.value)}}}),e._v(" "),t("div",{staticClass:"setdefault"},[e._v("\n    设为默认地址\n  ")]),e._v(" "),t("div",{staticClass:"address-add",on:{click:e.addAddress}},[e._v("\n    保存地址\n  ")])])])},staticRenderFns:[]}},68:function(e,n,t){t(192);var r=t(18)(t(157),t(219),null,null);e.exports=r.exports},94:function(e,n,t){"use strict";function r(e){return(new(p.a.Object.extend("Address"))).save({name:e.name,tel:e.tel,address:e.address}).then(function(e){})}function o(e,n){console.log(e);var t=p.a.Object.extend("orders"),r=new t;if(e.price)return r.save({orderName:e.name,orderPic:e.pic,orderPrice:e.price,orderCount:e.count,orderExplain:e.explain,orderAddress:e.orderAddress,orderType:e.orderType,orderUser:m}).then(function(e){});var o=[];return e.forEach(function(e){var r=new t;r.set("orderName",e.title),r.set("orderPic",e.pic?e.pic:null),r.set("orderPrice",e.price),r.set("orderCount",e.count),r.set("orderExplain",e.explain),r.set("orderAddress",n),r.set("orderType",e.goodstype),r.set("orderUser",m),o.push(r)}),p.a.Object.saveAll(o)}function d(e){return p.a.Object.createWithoutData("orders",e).destroy().then(function(){return"ok"})}function a(e){var n=new p.a.Query("Address");return n.descending("createdAt"),n.find()}function s(e){return p.a.Object.createWithoutData("Address",e).destroy().then(function(){return"ok"})}function i(e){return(new(p.a.Object.extend("evaluate"))).save({rate:e.rate,tags:e.tags,explain:e.explain,user:m}).then(function(e){})}function A(e){return(new(p.a.Object.extend("innbook"))).save({innTitle:e.title,innExplain:e.explain,innStart:e.dateenter,innEnd:e.datelevae,innTotalprice:e.price,innPic:e.pic,innPerson:e.name,innTel:e.tel,innUser:m}).then(function(e){})}function u(e){return console.log(e),(new(p.a.Object.extend("user"))).save({name:e.name,password:e.password,tel:Number(e.tel),username:e.username}).then(function(e){})}function c(e){var n=new p.a.Query("user");return n.equalTo("username",e),n.find()}var l=t(8),p=t.n(l),f=t(7),m=f.a.state.user[0];console.log(m,"caocao"),n.a={addAddress:r,queryAddress:a,destoryAddress:s,addOrder:o,destoryOrder:d,addEvaluate:i,addInnBook:A,addUser:u,queryUser:c}}});
//# sourceMappingURL=16.d754ecae41b59200cc65.js.map